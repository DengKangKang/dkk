<!DOCTYPE html>
<html>
  <head>
    <title>DKK</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <script defer src="main.dart.js"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function () {
          navigator.serviceWorker.register('/sw.js', {scope: '/'})
                  .then(function (registration) {

                    // 注册成功
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                  })
                  .catch(function (err) {

                    // 注册失败:(
                    console.log('ServiceWorker registration failed: ', err);
                  });
        });
      }
    </script>

    <script>
      // WARNING: DO NOT set the <base href> like this in production!
      // Details: https://webdev.dartlang.org/angular/guide/router
      (function () {
        var m = document.location.pathname.match(/^(\/[-\w]+)+\/web($|\/)/);
        document.write('<base href="' + (m ? m[0] : '/') + '" />');
      }());
    </script>
  </head>
  <body>
    <main></main>
  </body>
</html>
